/**
 * Copyright 2014 Telerik AD
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

!function(e,define){define(["./kendo.core.min"],e)}(function(){return function(e,t,n){"use strict";function i(e){var t=m;try{return m=function(e){return e()},e()}finally{m=t}}function a(e,i,a,o){i[a]=t.copy(e.$eval(o)),i[a]===n&&o.match(/^\w*$/)&&g.warn(a+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+o+"'?")}function o(n,i,o,u,c){var l,s,d,f,p=u.replace(/^kendo/,""),m=t.extend({},n.$eval(o.kOptions||o.options)),v=e(i)[u];return v?(l=v.widget.prototype.options,s=v.widget.prototype.events,e.each(o,function(e,t){var i,o,r,u;"source"!==e&&"kDataSource"!==e&&(i="data"+e.charAt(0).toUpperCase()+e.slice(1),0===e.indexOf("on")&&(o=e.replace(/^on./,function(e){return e.charAt(2).toLowerCase()}),s.indexOf(o)>-1&&(m[o]=t)),l.hasOwnProperty(i)?a(n,m,i,t):l.hasOwnProperty(e)&&"name"!=e?a(n,m,e,t):k[e]||(r=e.match(/^k(On)?([A-Z].*)/),r&&(u=r[2].charAt(0).toLowerCase()+r[2].slice(1),r[1]&&"kOnLabel"!=e?m[u]=t:("kOnLabel"==e&&(u="onLabel"),a(n,m,u,t)))))}),d=o.kDataSource||o.source,d&&(m.dataSource=h(n,i,p,d)),m.$angular=[n],i.is("select")&&!function(t){if(t.length>0){var n=e(t[0]);!/\S/.test(n.text())&&/^\?/.test(n.val())&&n.remove()}}(i[0].options),f=v.call(i,$=m).data(u),r(f,n,o,u,c),n.$emit("kendoWidgetCreated",f),f):(window.console.error("Could not find: "+u),null)}function r(e,t,n,i,a){if(n[a]){var o=p(n[a]).assign;if(!o)throw Error(a+" attribute used but expression in it is not assignable: "+n[i]);o(t,e)}}function u(e,t){function n(e,t){f.directive(e,["directiveFactory",function(n){return n.create(t,e)}])}var i,a,o,r=t?"Mobile":"";r+=e.fn.options.name,i=r,a="kendo"+r.charAt(0)+r.substr(1).toLowerCase(),r="kendo"+r,n(r,r),a!=r&&n(a,r),o=r.replace(/([A-Z])/g,"-$1"),f.directive(a,function(){return{restrict:"E",replace:!0,template:function(){var e=w[i]||"div";return"<"+e+" "+o+"></"+e+">"}}})}function c(t){return t=e(t),kendo.widgetInstance(t,kendo.ui)||kendo.widgetInstance(t,kendo.mobile.ui)||kendo.widgetInstance(t,kendo.dataviz.ui)}function l(e){var t=e.$root||e;/^\$(digest|apply)$/.test(t.$$phase)||e.$digest()}function s(t,n){t.$destroy(),n&&e(n).removeData("$scope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}function d(n,i,a){var o,r,u;if(e.isArray(n))return t.forEach(n,function(e){d(e,i,a)});if("string"==typeof n){for(o=n.split("."),r=kendo;r&&o.length>0;)r=r[o.shift()];if(!r)return y.push([n,i,a]),!1;n=r.prototype}return u=n[i],n[i]=function(){var e=this,t=arguments;return a.apply({self:e,next:function(){return u.apply(e,arguments.length>0?arguments:t)}},t)},!0}var f,p,m,v,g,$,h,k,w,y;t&&(f=t.module("kendo.directives",[]),h=function(){var e={TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN"},t=function(e,t){return"$PLAIN"==t?e:kendo.data[t].create(e)};return function(n,i,a,o){var r=e[a]||"DataSource",u=t(n.$eval(o),r);return n.$watch(o,function(e,n){var a,o;e!==n&&(a=t(e,r),o=c(i),o&&"function"==typeof o.setDataSource&&o.setDataSource(a))}),u}}(),k={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0,kNgDelay:!0},f.factory("directiveFactory",["$timeout","$parse","$compile","$log",function(t,i,a,r){var u,l,s;return m=t,p=i,v=a,g=r,u=0,l=!1,s=function(t,i){return{restrict:"AC",require:["?ngModel","^?form"],scope:!1,transclude:!0,controller:["$scope","$attrs","$element","$transclude",function(e,t,n,i){i(e,function(e){n.append(e)})}],link:function(a,r,s,d){var f,$=d[0],h=d[1],k=t.replace(/([A-Z])/g,"-$1");e(r).attr(k,e(r).attr("data-"+k)),e(r)[0].removeAttribute("data-"+k),++u,f=s.kNgDelay,m(function w(){function d(){function e(e){return/checkbox|radio/i.test(e.attr("type"))?e.prop("checked"):e.val()}function t(){return m?e(r):b.value()}var i,o,u,l,d,f,m=/^(input|select|textarea)$/i.test(r[0].tagName);x&&x(),x=a.$on("$destroy",function(){b&&(b.element&&(b=c(b.element),b&&b.destroy()),b=null)});e:if($){if(!b.value)break e;$.$render=function(){var e=$.$viewValue;e===n&&(e=$.$modelValue),setTimeout(function(){b.value(e)},0)},i=!1,m&&r.on("change",function(){i=!0}),o=function(e){return function(){var n;i||(i=!1,e&&h&&(n=h.$pristine),$.$setViewValue(t()),e&&($.$setPristine(),n&&h.$setPristine()))}},b.first("change",o(!1)),b.first("dataBound",o(!0)),u=t(),u!=$.$viewValue&&($.$isEmpty($.$viewValue)?null!=u&&""!==u&&u!=$.$viewValue&&$.$setViewValue(u):b.value($.$viewValue)),$.$setPristine()}e:if(s.kNgModel){if("function"!=typeof b.value){g.warn("k-ng-model specified on a widget that does not have the value() method: "+b.options.name);break e}l=p(s.kNgModel),d=l.assign,f=!1,b.value(l(a)),a.$watch(s.kNgModel,function(e,t){f||e!==t&&b.value(e)}),b.first("change",function(){f=!0,a.$apply(function(){d(a,b.value())}),f=!1})}}var k,y,b,x;return f?function(){var e=a.$watch(f,function(t,n){t!==n&&(e(),f=null,m(w))})}():(s.kRebind&&(k=s.$kendoOrigElement||e(r)[0].cloneNode(!0),y=a.$watch(s.kRebind,function(t,n){var i,o,u;t!==n&&(y(),i=e(b.wrapper)[0],o=e(b.element)[0],b.destroy(),b=null,i&&o&&(i.parentNode.replaceChild(o,i),u=k.cloneNode(!0),e(r).replaceWith(u),r=e(u)),v(r)(a))},!0)),b=o(a,r,s,t,i),d(),x=null,function(){function t(){a.disconnect()}function n(){a.observe(e(r)[0],{attributes:!0})}var i,a;window.MutationObserver&&b.wrapper&&(i=[].slice.call(e(r)[0].classList),a=new MutationObserver(function(a){t(),b&&(a.forEach(function(t){var n,a=e(b.wrapper)[0];switch(t.attributeName){case"class":n=[].slice.call(t.target.classList),n.forEach(function(e){i.indexOf(e)<0&&(a.classList.add(e),b instanceof kendo.ui.ComboBox&&b.input[0].classList.add(e))}),i.forEach(function(e){n.indexOf(e)<0&&(a.classList.remove(e),b instanceof kendo.ui.ComboBox&&b.input[0].classList.remove(e))}),i=n;break;case"disabled":"function"==typeof b.enable&&b.enable(!e(t.target).attr("disabled"));break;case"readonly":"function"==typeof b.readonly&&b.readonly(!!e(t.target).attr("readonly"))}}),n())}),n(),b.first("destroy",t))}(),--u,0===u&&(l||(l=!0,a.$emit("kendoRendered"),e("form").each(function(){var t=e(this).controller("form");t&&t.$setPristine()}))),n)})}}},{create:s}}]),w={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",ListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul"},function(){function e(e){return function(n){t.forEach(n,function(t){t.fn&&t.fn.options&&t.fn.options.name&&/^[A-Z]/.test(t.fn.options.name)&&u(t,e)})}}t.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],e(!1)),t.forEach([kendo.mobile&&kendo.mobile.ui],e(!0))}(),y=[],d(kendo.ui,"plugin",function(t,n,i){this.next(),y=e.grep(y,function(e){return!d.apply(null,e)}),u(t,"Mobile"==i)}),d(["ui.Widget","mobile.ui.Widget"],"angular",function(a,o){var r,u=this.self;return"init"==a?(!o&&$&&(o=$),$=null,o&&o.$angular&&(u.$angular_scope=o.$angular[0],u.$angular_init(u.element,o)),n):(r=u.$angular_scope||t.element(u.element).scope(),r&&v&&i(function(){var i=o(),u=i.elements,c=i.data;if(u.length>0)switch(a){case"cleanup":t.forEach(u,function(e){var n=t.element(e).scope();n&&n!==r&&s(n,e)});break;case"compile":t.forEach(u,function(a,o){var u,l;i.scopeFrom?u=t.element(i.scopeFrom).scope():(l=c&&c[o],l!==n&&(u=e.extend(r.$new(),l))),v(a)(u||r)}),l(r)}}),n)}),d("ui.Widget","$angular_init",function(t,n){var i,a,o,r,u=this.self;if(n&&!e.isArray(n))for(i=u.$angular_scope,a=u.events.length;--a>=0;)o=u.events[a],r=n[o],r&&"string"==typeof r&&(n[o]=u.$angular_makeEventHandler(o,i,r))}),d("ui.Widget","$angular_makeEventHandler",function(e,t,n){return n=p(n),function(e){var i=t.$root||t;/^\$(apply|digest)$/.test(i.$$phase)?n(t,{kendoEvent:e}):t.$apply(function(){n(t,{kendoEvent:e})})}}),d(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(e,n,i){return"change"!=e?this.next():(i=p(i),function(e){var a,o,r,u,c,l,s,d,f,p=e.sender,m=p.options,v={kendoEvent:e};for(t.isString(m.selectable)&&(a=-1!==m.selectable.indexOf("cell"),o=-1!==m.selectable.indexOf("multiple")),r=v.selected=this.select(),u=v.data=[],c=v.columns=[],s=0;r.length>s;s++)d=a?r[s].parentNode:r[s],f=p.dataItem(d),a?(t.element.inArray(f,u)<0&&u.push(f),l=t.element(r[s]).index(),t.element.inArray(l,c)<0&&c.push(l)):u.push(f);o||(v.dataItem=v.data=u[0],v.selected=r[0]),n.$apply(function(){i(n,v)})})}),d("ui.Grid","$angular_init",function(i,a){if(this.next(),a.columns){var o=e.extend({},kendo.Template,a.templateSettings);t.forEach(a.columns,function(e){!e.field||e.template||e.format||e.values||e.encoded!==n&&!e.encoded||(e.template="<span ng-bind='"+kendo.expr(e.field,"dataItem")+"'>#: "+kendo.expr(e.field,o.paramName)+"#</span>")})}}),d("mobile.ui.ButtonGroup","value",function(e){var t=this.self;return null!=e&&(t.select(t.element.children("li.km-button").eq(e)),t.trigger("change"),t.trigger("select",{index:t.selectedIndex})),t.selectedIndex}),d("mobile.ui.ButtonGroup","_select",function(){this.next(),this.self.trigger("change")}))}(window.kendo.jQuery,window.angular),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});